# Pricing notes for Telegram Stars

このボットの有料メニューは **core/store/catalog.py** の `PRODUCTS` に集約してあります。SKU・価格・文言を変えるときはここを更新すれば全メニューが反映されます。

## 価格変更の狙い
- **購入ハードル** を下げる: 初回体験を促すために小さめのチケット価格を試す。
- **継続率** を高める: パスやまとめ買いで「毎日使いやすい」設計にする。
- **客単価** を最適化する: 利用頻度に合わせて段階的な価格を試す（3枚→7枚→10枚など）。

## Stars のパッケージと端数問題
TelegramのStarsは 90 / 500 / 1000 / 2000 ... のようなパッケージ単位で販売され、端数が出ると余りが発生します。例えば 300⭐️ を使うには 350⭐️ を購入する必要がある場合があり、離脱要因になりがちです。価格を決める際は、
- 主要パッケージでぴったり払いしやすい数字に近づける
- チケットをセット販売して「余り」を次回に活かせるようにする
- 価格を上げる場合は、その分のメリット（枚数追加・期間延長）を必ず説明する
といった工夫を検討してください。

## 変更手順
1. `core/store/catalog.py` の `PRODUCTS` 内で該当 SKU の `price_stars` と `description` を更新する。必要に応じて `title` も調整する。
2. `/buy` メニューの見え方をBotで確認し、Stars表記や説明が意図通りかチェックする。
3. 自動テストを実行する: `python -m pytest -q`
4. ステージング環境で決済フローを一度通し、`successful_payment` 後のメッセージと付与ロジックが期待通りか確認する。
5. 変更内容と狙いを記録し、KPI（購入率・継続率・返金率）を1週間〜1か月単位で追う。
